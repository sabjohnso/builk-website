#+TITLE: Bilk Website — Implementation Plan
#+STARTUP: showall

* Overview

This plan lays out the phased construction of the bilk-scheme website using
Hugo. It is informed by a review of how other programming language communities
present themselves online (Python, Racket, Scala, OCaml, Haskell, Chez Scheme,
GNU Guile, CHICKEN Scheme).

** Design Principles (distilled from the review)

1. *Code first.* The homepage should show Bilk code immediately. Every feature
   claim should be backed by a runnable example. Racket and Guile do this best;
   Chez Scheme's code-free homepage is the cautionary example.
2. *Clear call to action.* A prominent "Get Started" button in the hero area.
   Every reviewed site that lacked this (Chez) felt like a reference page, not a
   landing page.
3. *Progressive disclosure.* Beginner / intermediate / advanced tiers prevent
   information overload (OCaml, Python, Scala all do this well).
4. *Identity over specification.* Lead with what makes Bilk distinctive, not
   "R7RS compliant." CHICKEN's "compiles to portable C" and Guile's "extension
   language" are memorable hooks. Bilk's hook: a modern, batteries-included
   Scheme with developer tools you'd expect from a mainstream language.
5. *Show vitality.* Recent releases, active development signals. A static page
   with no dates looks abandoned.
6. *Unified documentation.* Keep everything under one roof. CHICKEN's
   fragmentation across subdomains is a usability cost.
7. *Minimal and clean.* Bilk is a young project. A small, polished site is
   better than an ambitious one with empty sections.

** Target Audience (in priority order)

1. Experienced programmers curious about Scheme or functional programming.
2. Scheme users evaluating implementations.
3. OCaml developers interested in the implementation.
4. Students and educators.

* DONE Phase 1 — Foundation                                           :infra:

Set up the Hugo project so it builds, has a theme, and can be deployed.

** DONE Choose and install a Hugo theme

Chose [[https://github.com/imfing/hextra][Hextra]] (v0.11.1) — modern docs theme with built-in search, dark mode,
and good typography. Installed via Hugo Modules (not git submodule).

** DONE Create =hugo.toml= with base configuration

Site title, base URL, language, Hextra theme via module, menu structure,
and syntax highlighting configured.

** DONE Add =.gitignore=

Excludes =public/=, =resources/=, =.hugo_build.lock=.

** DONE Verify the site builds and serves locally

Site builds and serves with Hextra theme via =nix develop --command hugo server -D=.

* DONE Phase 2 — Homepage                                            :content:

The homepage is the most important page. It must answer three questions in
under 10 seconds: What is Bilk? Why should I care? How do I start?

** DONE Hero section

- Headline: "An R7RS Scheme Compiler"
- Subtitle with key selling points (bytecode, numeric tower, macros, SRFIs, tooling)
- Primary CTA: "Get Started" button (hero-button shortcode)
- Secondary CTA: "Documentation →" outline button (raw HTML)

** DONE Code showcase section

4 tabbed examples using Hextra =tabs= / =tab= shortcodes, preceded by
a "See It in Action" section heading:

1. *Basics* — FizzBuzz with named =let=, =cond=, I/O
2. *Macros* — =define-syntax= / =syntax-rules= (=when= and =swap!=)
3. *Numeric Tower* — rational and complex arithmetic (verified against test suite)
4. *Libraries* — =define-library= / =import= / =export= R7RS module system

All examples verified against =../bilk= test suite. Removed =rationalize=
(not implemented in Bilk).

** DONE Feature highlights section

6-card grid using Hextra =feature-grid= / =feature-card= shortcodes:
R7RS Compliant, 36 Bundled SRFIs, Developer Tooling, Compiles to Bytecode,
Embeddable, Interactive REPL.

** DONE Footer

3-column footer via =layouts/_partials/custom/footer.html=:
- Project (About, License/MIT, GitHub)
- Documentation (Get Started, Guide)
- Community (GitHub Discussions, Contributing)

* DONE Phase 3 — Getting Started                                     :content:

A single, self-contained page that takes someone from zero to running Bilk
code. This is the #1 conversion page.

** DONE Installation instructions

- Prerequisites section with OCaml 5.3.0+BER, opam, GMP
- Tabbed GMP install (Debian/Ubuntu vs macOS)
- Step-by-step: clone, opam switch, deps, build, install
- Verify with =bilk -e '(display "ready")'=

** DONE First program walkthrough

- REPL usage (=bilk= with no args), REPL commands (=,help=, =,paredit=)
- Write and run =hello.scm= (=bilk hello.scm=)
- Single expression eval (=bilk -e=)
- Compile to FASL bytecode (=bilk compile -o .fasl=)
- Compile to standalone executable (=bilk compile --exe=)
- Shebang scripts (=#!/usr/bin/env bilk=)

** DONE Editor setup

- Tabbed setup for VS Code, Emacs (eglot), Neovim (nvim-lspconfig)
- All pointing at =bilk lsp= as the server command

* DONE Phase 4 — Documentation Hub                                      :docs:

Progressively disclosed documentation. Start with the most useful pages and
expand over time. Every page should be self-contained and linkable.

** DONE Documentation landing page

Cards linking to: Getting Started, Language Guide, Tool Guide, SRFI Reference.

** DONE Language guide (tutorial-style)

11 chapters with runnable examples:
1. Expressions & Values, 2. Definitions & Functions, 3. Data Types,
4. Numeric Tower, 5. Control Flow, 6. Records, 7. Macros,
8. Libraries, 9. Continuations, 10. I/O & Ports, 11. Error Handling.

** DONE Tool guide

6 pages covering REPL (commands, paredit, themes, keybindings), LSP server
(capabilities, editor config), DAP debugger (breakpoints, stepping,
inspection), profiler (text/flamegraph/trace formats), package manager
(install, list, venvs), and build system (watch, graph, test runner).

** DONE SRFI reference page

Table of all 36 bundled SRFIs (6 built-in + 30 from .sld files) with
SRFI number, title, import form, and link to official SRFI document.
Usage examples for SRFI 1, 13, and 69.

* DONE Phase 5 — Supplementary Pages                                :content:

** DONE About page

Elevator pitch, architecture overview (Reader → Expander → Compiler → VM),
design philosophy (compilation-only, batteries-included, embeddable),
implementation details (OCaml, 37 modules, 12 bytecode instructions), and
license (MIT).

** DONE Contributing guide

Bug reporting, development setup (clone, opam switch, deps), TDD practices
(red-green-refactor), code conventions (interfaces, small functions),
project structure, PR workflow, and link to GitHub Discussions.

** DONE Releases / Changelog page

Placeholder noting pre-release status, with build-from-source instructions
and links to repo/discussions. Will be updated when versioned releases ship.

* DONE Phase 6 — Polish and Deploy                                    :infra:

** DONE Syntax highlighting for Scheme

Hugo's Chroma highlighter renders Scheme correctly out of the box with
CSS classes (=noClasses = false=). Keywords, builtins, numbers, strings,
and comments are all tokenized.

** DONE Search

Hextra's built-in FlexSearch was already configured in Phase 1 (search
menu item with =type = "search"=).

** DONE SEO and metadata

- Site =description= in hugo.toml for Open Graph fallback
- =enableRobotsTXT = true= generates robots.txt
- Hextra auto-generates Open Graph and Twitter Card meta tags
- =theme-color= meta tag set to =#4f46e5= via custom head partial

** DONE Favicon and branding

- SVG favicon (lambda symbol on indigo background) in =static/favicon.svg=
- Dark mode variant in =static/favicon-dark.svg= (lighter indigo)
- Custom =head-end.html= partial links both with media query

** DONE Deployment pipeline

GitHub Actions workflow in =.github/workflows/deploy.yml=:
- Triggers on push to =main= and manual dispatch
- Sets up Go + Hugo extended 0.155.2
- Builds with =hugo --minify=
- Deploys to GitHub Pages via =actions/deploy-pages@v4=

** TODO Custom domain (if desired)

Deferred — requires DNS configuration and user decision on domain name.
When ready: configure DNS, update =baseURL= in hugo.toml, enable HTTPS
via GitHub Pages.

Also updated navigation menu: added Guide, Tools, and About links;
reweighted items for better information architecture.

* Phase 7 — Future Enhancements                                     :future:

These are not part of the initial build but are worth planning for.

** TODO In-browser playground

An interactive Scheme REPL in the browser. This is the single most effective
feature for converting visitors (Python, Racket, Scala, OCaml, and Haskell
all have one). Options:

- Compile Bilk to WebAssembly (ambitious but ideal)
- Server-side eval with a sandboxed backend (simpler but requires hosting)

** TODO Blog / News section

Hugo has native blog support. Use for release announcements, tutorials, and
design notes. Shows project vitality.

** TODO API reference (generated)

If =odoc= or a similar tool can generate API docs from Bilk's =.mli= files,
host them as a subsection of the docs.

** TODO Showcase / Examples gallery

A curated collection of interesting Bilk programs, from one-liners to small
projects. Inspired by Racket's homepage code gallery.

* Appendix: Review Summary

What the best language websites get right:

| Pattern                     | Exemplars             | Relevance to Bilk             |
|-----------------------------+-----------------------+-------------------------------|
| Code in the hero            | Racket, Guile, OCaml  | High — show Scheme elegance   |
| Interactive playground      | Scala, OCaml, Haskell | Future (Phase 7)              |
| Progressive docs            | OCaml, Python, Scala  | High — Phase 4                |
| Audience-aware onboarding   | Python, Racket, Scala | Moderate — Phase 3            |
| Feature grid with evidence  | OCaml, Haskell        | High — Phase 2                |
| Real-world applications     | Guile, Haskell        | Low (too early)               |
| Ecosystem/package discovery | Scala, OCaml          | Future (once pkg mgr matures) |
| Rich footer as sitemap      | All good sites        | High — Phase 2                |
| Social proof / testimonials | OCaml, Haskell        | Low (too early)               |
| Separated Install vs. Learn | Haskell, OCaml        | High — Phase 3                |
| Version prominence in hero  | Scala, OCaml          | High — Phase 2                |
| Dark mode                   | OCaml, most modern    | High — theme selection        |
